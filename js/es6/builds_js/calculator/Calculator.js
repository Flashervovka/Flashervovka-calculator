!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=a(n(1)),s=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}n(3);var l=function(){function t(e,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"calc";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._wrapper=document.querySelector("#"+e),this._theme=a,this._isNumericValidator=n,this._hostElement=e,this._calculator=document.createElement("div"),this._calculator.classList.add(a+"-main"),this._wrapper.appendChild(this._calculator),this._numsInputField=new r.default(this._calculator,this._isNumericValidator,a),this._isNumericValidator||(this._resultField=new s.default(this._calculator,a)),this._calculator.addEventListener("ON_CALCULATED",function(t){i.onCalcFiedChange(t)},!1),this._numsInputField._inputField.addEventListener("focus",function(t){i.onFocusFiled(t)}),this._numsInputField._inputField.addEventListener("blur",function(t){i.onBlurFiled(t)}),this._text="",this._value=null,this._isValid=!0}return i(t,[{key:"onFocusFiled",value:function(t){this._calculator.classList.add(this._theme+"-filed-on-focus")}},{key:"onBlurFiled",value:function(t){this._calculator.classList.remove(this._theme+"-filed-on-focus")}},{key:"onCalcFiedChange",value:function(t){this._text=t.detail.text,this._value=t.detail.value,this._isValid=t.detail.isValid,this._isNumericValidator||(null===this.value?this._resultField.setResult(""):this._resultField.setResult(this.value?this.value:"?"),this._resultField.setValidView(this.isValid)),this._isValid?this._calculator.classList.remove(this._theme+"-main-invalid"):this._calculator.classList.add(this._theme+"-main-invalid")}},{key:"destroy",value:function(){var t=this;this._numsInputField._inputField.removeEventListener("focus",function(e){t.onFocusFiled(e)}),this._numsInputField._inputField.removeEventListener("blur",function(e){t.onBlurFiled(e)}),this._numsInputField.destroy(),this._numsInputField=null,this._isNumericValidator||(this._resultField.destroy(),this._resultField=null),this._calculator.remove(),this._calculator=null,this._wrapper=null}},{key:"hostElement",get:function(){return this._hostElement}},{key:"text",set:function(t){this._numsInputField.setTextInField(t)},get:function(){return this._text}},{key:"value",set:function(t){this._numsInputField.setTextInField(t)},get:function(){return this._value}},{key:"isValid",get:function(){return this._isValid}}]),t}();e.default=l,window.Calculator=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e,n,i){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=e,this._theme=i,this._isNumericValidator=n,this._inputField=document.createElement("input"),this._inputField.classList.add(i+"-input-field"+(n?"-validator":"")),this._inputField.setAttribute("type","text"),this._inputField.setAttribute("pattern","[0-9]"),this._inputField.setAttribute("inputmode","tel"),this._context.appendChild(this._inputField),this._text="",this._value=null,this._isValid=!0,this._inputField.addEventListener("input",function(t){r.onChangeField(t)})}return i(t,[{key:"destroy",value:function(){var t=this;this._inputField.removeEventListener("input",function(e){t.onChangeField(e)}),this._inputField.remove(),this._inputField=null,this._context=null}},{key:"onChangeField",value:function(t){this.onValueSeted()}},{key:"onValueSeted",value:function(){this._text=this._inputField.value,this._isNumericValidator?(this._inputValue=this._inputField.value,this.validateNumber()):(this._inputValue="("+this._inputField.value+")",this._inputValue=this._inputValue.replace(/\s/g,""),this.normalize()),this._isValid?this._inputField.classList.remove(this._theme+"-input-field-invalid"):this._inputField.classList.add(this._theme+"-input-field-invalid");var t=new CustomEvent("ON_CALCULATED",{bubbles:!0,cancelable:!0,detail:{value:this._value,isValid:this._isValid,text:this._text}});this._inputField.dispatchEvent(t)}},{key:"validateNumber",value:function(){var t=this._inputValue.replace("(","").replace(")","");this._isValid=!isNaN(this._inputValue),this._isValid?this._value=""==t?null:t:this._value=void 0}},{key:"normalize",value:function(){for(var t=this._inputValue.match(/\(-?[0-9]\d*(\.\d+)?([+-/*]\d+)+\)/g);t;){for(var e=0;e<t.length;e++){var n=t[e];n=this.calculate(n,"*"),n=this.calculate(n,"/"),n=this.calculate(n,"+"),n=this.calculate(n,"-"),this._inputValue=this._inputValue.replace(t[e],n)}t=this._inputValue.match(/\(-?[0-9]\d*(\.\d+)?([+-/*]\d+)+\)/g)}var i=this._inputValue.replace("(","").replace(")","");this._isValid=!isNaN(i),this._isValid?this._value=""==i?null:i:this._value=void 0,console.log("RESULT = "+this._value+" isValid "+this._isValid)}},{key:"getPattern",value:function(t){var e=[];switch(t){case"*":e.push(/-?[0-9]\d*(\.\d+)?[*][0-9]\d*(\.\d+)?/),e.push(/[*]/);break;case"/":e.push(/-?[0-9]\d*(\.\d+)?[/][0-9]\d*(\.\d+)?/),e.push(/[/]/);break;case"+":e.push(/-?[0-9]\d*(\.\d+)?[+][0-9]\d*(\.\d+)?/),e.push(/[+]/);break;case"-":e.push(/-?[0-9]\d*(\.\d+)?[-][0-9]\d*(\.\d+)?/),e.push(/[-]/)}return e}},{key:"calculate",value:function(t,e){for(var n=t,i=this.getPattern(e),r=n.match(i[0]);r;){var s=r[0].match(i[1]),a=s.input,l=0,u="",o="";for(l=0;l<s.index;l++)u+=a[l];for(l=s.index+1;l<a.length;l++)o+=a[l];switch(e){case"*":n=n.replace(a,parseFloat(u)*parseFloat(o));break;case"/":n=n.replace(a,parseFloat(u)/parseFloat(o));break;case"+":n=n.replace(a,parseFloat(u)+parseFloat(o));break;case"-":n=n.replace(a,parseFloat(u)-parseFloat(o))}r=n.match(i[0])}return n.replace("(","").replace(")","")}},{key:"setTextInField",value:function(t){this._inputField.value=t,this.onValueSeted()}},{key:"text",get:function(){return this._text}},{key:"value",get:function(){return this._value}},{key:"isValid",get:function(){return this._isValid}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._context=e,this._theme=n,this._resultField=document.createElement("div"),this._resultField.classList.add(n+"-result-field"),this._context.appendChild(this._resultField)}return i(t,[{key:"destroy",value:function(){this._resultField.remove(),this._resultField=null,this._context=null}},{key:"setResult",value:function(t){this._resultField.innerHTML=t}},{key:"setValidView",value:function(t){t?this._resultField.classList.remove(this._theme+"-result-field-invalid"):this._resultField.classList.add(this._theme+"-result-field-invalid")}}]),t}();e.default=r},function(t,e,n){var i=n(4);"string"==typeof i&&(i=[[t.i,i,""]]);var r={hmr:!0,transform:void 0};n(6)(i,r);i.locals&&(t.exports=i.locals)},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".calc-main{\r\n    width: 320px;\r\n    height: 30px;\r\n    border: grey solid 1px;\r\n}\r\n.calc-input-field{\r\n    width: 240px;\r\n    height: 30px;\r\n    float: left;\r\n    border: 0;\r\n    padding: 0;\r\n    outline: none;\r\n}\r\n.calc-input-field-validator {\r\n    width: 320px;\r\n    height: 30px;\r\n    float: left;\r\n    border: 0;\r\n    padding: 0;\r\n    outline: none;\r\n}\r\n\r\n\r\n.calc-result-field{\r\n    width: 80px;\r\n    height: 30px;\r\n    float: right;\r\n    background-color: #d5d5d5;\r\n    line-height: 30px;\r\n    text-align: center;\r\n}\r\n\r\n.calc-filed-on-focus{\r\n    border: #6ca8f4 solid 2px;\r\n}\r\n.calc-main-invalid{\r\n    border: #ffd1ca solid 2px;\r\n}\r\n\r\n.calc-main-invalid.calc-filed-on-focus{\r\n    border: #ff5587 solid 2px;\r\n}",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(s).concat([r]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),s=function(t){var e={};return function(t){if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,l=0,u=[],o=n(7);function c(t,e){for(var n=0;n<t.length;n++){var r=t[n],s=i[r.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](r.parts[a]);for(;a<r.parts.length;a++)s.parts.push(_(r.parts[a],e))}else{var l=[];for(a=0;a<r.parts.length;a++)l.push(_(r.parts[a],e));i[r.id]={id:r.id,refs:1,parts:l}}}}function d(t,e){for(var n=[],i={},r=0;r<t.length;r++){var s=t[r],a=e.base?s[0]+e.base:s[0],l={css:s[1],media:s[2],sourceMap:s[3]};i[a]?i[a].parts.push(l):n.push(i[a]={id:a,parts:[l]})}return n}function h(t,e){var n=s(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=u[u.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,r)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function p(t){var e=document.createElement("style");return t.attrs.type="text/css",v(e,t.attrs),h(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,i,r,s;if(e.transform&&t.css){if(!(s=e.transform(t.css)))return function(){};t.css=s}if(e.singleton){var u=l++;n=a||(a=p(e)),i=b.bind(null,n,u,!1),r=b.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",v(e,t.attrs),h(t,e),e}(e),i=function(t,e,n){var i=n.css,r=n.sourceMap,s=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||s)&&(i=o(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}.bind(null,n,e),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){f(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=d(t,e);return c(n,e),function(t){for(var r=[],s=0;s<n.length;s++){var a=n[s];(l=i[a.id]).refs--,r.push(l)}t&&c(d(t,e),e);for(s=0;s<r.length;s++){var l;if(0===(l=r[s]).refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete i[l.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=m(e,r);else{var s=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?t:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:i+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}}]);